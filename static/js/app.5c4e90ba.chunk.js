(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{155:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(129),c=n(210),s=n(37),i=n(42),l=n(2),u=n(82),f=n(3),p=f.a.create({container:{paddingTop:5,backgroundColor:"#222f3e",flex:1,alignItems:"center"},title:{color:"#ffffff",fontSize:20,textAlign:"center",marginTop:10}}),d=function(e){var t=e.children;return a.a.createElement(l.a,{style:p.container},a.a.createElement(u.a,{backgroundColor:"#222f3e"}),t)},m=n(6),h=n.n(m),b=n(11),g=n.n(b),y=n(97),v=n(148),x=n(147),w=n(93),E=n(17),T="https://edictus.herokuapp.com/tasks",k=function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(fetch(T+"/"+e,{method:"DELETE"}));case 2:case"end":return t.stop()}}),null,null,null,Promise)},O=function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(fetch(T,{method:"GET"}));case 2:return e=t.sent,t.next=5,g.a.awrap(e.json());case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),null,null,null,Promise)},S=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(fetch(T,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 2:return t=n.sent,n.next=5,g.a.awrap(t.json());case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),null,null,null,Promise)},j=function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(fetch(T+"/"+e));case 2:return t=n.sent,n.next=5,g.a.awrap(t.json());case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),null,null,null,Promise)},P=function(e,t){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.a.awrap(fetch(T+"/"+e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,null,null,Promise)},C=f.a.create({itemContainer:{backgroundColor:"#333333",padding:20,marginVertical:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:5},itemTitle:{color:"#ffffff"}}),D=function(e){var t=e.task,n=e.handleDelete,r=Object(E.useNavigation)();return a.a.createElement(l.a,{style:C.itemContainer},a.a.createElement(i.a,{onPress:function(){return r.navigate("TaskFormScreen",{id:t.id})}},a.a.createElement(s.a,{style:C.itemTitle},t.title),a.a.createElement(s.a,{style:{color:"#8395a7"}},t.description)),a.a.createElement(i.a,{style:{backgroundColor:"#ee5253",padding:7,borderRadius:5},onPress:function(){return n(t.id)}},a.a.createElement(s.a,{style:{color:"#fff"}},"Delete")))},R=function(e){e.navigation;var t=Object(r.useState)([]),n=h()(t,2),o=n[0],c=n[1],s=a.a.useState(!1),i=h()(s,2),l=i[0],u=i[1],f=Object(E.useIsFocused)(),p=function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(O());case 3:e=t.sent,c(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},d=a.a.useCallback((function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,g.a.awrap(p());case 3:u(!1);case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[]),m=function(e){x.a.alert("Delete Task","Are you sure you want to delete the task",[{text:"Cancel",style:"cancel"},{text:"Ok",onPress:function(){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(k(e));case 2:return t.next=4,g.a.awrap(p());case 4:case"end":return t.stop()}}),null,null,null,Promise)}}])};Object(r.useEffect)((function(){p()}),[f]);return a.a.createElement(v.a,{style:{flex:1,width:"90%"}},a.a.createElement(y.a,{data:o,renderItem:function(e){var t=e.item;return a.a.createElement(D,{task:t,handleDelete:m})},keyExtractor:function(e){return e.id.toString()},refreshControl:a.a.createElement(w.a,{refreshing:l,onRefresh:d,colors:["#78e08f"],progressBackgroundColor:"#0a3d62"})}))},A=function(){return a.a.createElement(d,null,a.a.createElement(R,null))},B=n(5),N=n.n(B),I=n(38);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=f.a.create({input:{width:"90%",marginBottom:7,fontSize:14,borderWidth:1,borderColor:"#10ac84",height:30,color:"#ffffff",textAlign:"center",padding:4,borderRadius:5},buttonSave:{paddingTop:10,paddingBottom:10,borderRadius:5,marginBottom:3,backgroundColor:"#10ac84",width:"90%"},buttonUpdate:{paddingTop:10,paddingBottom:10,borderRadius:5,marginBottom:3,backgroundColor:"#e58e26",width:"90%"},buttonText:{color:"#fff",textAlign:"center"}}),z=function(e){var t=e.navigation,n=e.route,o=Object(r.useState)({title:"",description:""}),c=h()(o,2),l=c[0],u=c[1],f=Object(r.useState)(!1),p=h()(f,2),m=p[0],b=p[1];Object(r.useEffect)((function(){n.params&&n.params.id&&(b(!0),t.setOptions({headerTitle:"Updating Task"}),function(){var e;g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(j(n.params.id));case 2:e=t.sent,u({title:e.title,description:e.description});case 4:case"end":return t.stop()}}),null,null,null,Promise)}())}),[]);var y=function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m){e.next=6;break}return e.next=4,g.a.awrap(S(l));case 4:e.next=8;break;case 6:return e.next=8,g.a.awrap(P(n.params.id,F({},l)));case 8:t.navigate("HomeScreen"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),null,null,[[0,11]],Promise)},v=function(e,t){return u(F(F({},l),{},N()({},e,t)))};return a.a.createElement(d,null,a.a.createElement(I.a,{style:J.input,placeholder:"Write a Title",placeholderTextColor:"#576574",value:l.title,onChangeText:function(e){return v("title",e)}}),a.a.createElement(I.a,{style:J.input,placeholder:"Write a short Description",placeholderTextColor:"#576574",value:l.description,onChangeText:function(e){return v("description",e)}}),m?a.a.createElement(i.a,{style:J.buttonUpdate,onPress:y},a.a.createElement(s.a,{style:J.buttonText},"Update Task")):a.a.createElement(i.a,{style:J.buttonSave,onPress:y},a.a.createElement(s.a,{style:J.buttonText},"Save Task")))},H=Object(c.a)();t.a=function(){return a.a.createElement(o.a,null,a.a.createElement(H.Navigator,{initialRouteName:"HomeScreen"},a.a.createElement(H.Screen,{name:"HomeScreen",component:A,options:function(e){var t=e.navigation;return{title:"DDTI Tasks by R. Avenda\xf1o",headerStyle:{backgroundColor:"#222f3e"},headerTitleStyle:{color:"#ffffff"},headerRight:function(){return a.a.createElement(i.a,{onPress:function(){return t.navigate("TaskFormScreen")}},a.a.createElement(s.a,{style:{color:"#fff",marginRight:20,fontSize:15}},"New"))}}}}),a.a.createElement(H.Screen,{name:"TaskFormScreen",component:z,options:{title:"Create a Task",headerStyle:{backgroundColor:"#222f3e"},headerTintColor:"#fff",headerTitleStyle:{color:"#ffffff"}}})))}},166:function(e,t,n){e.exports=n(205)}},[[166,1,2]]]);
//# sourceMappingURL=app.5c4e90ba.chunk.js.map